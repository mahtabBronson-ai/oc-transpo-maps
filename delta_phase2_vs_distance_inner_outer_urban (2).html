<html>
<head><meta charset="utf-8" /></head>
<body>
    <div>                        <script type="text/javascript">window.PlotlyConfig = {MathJaxConfig: 'local'};</script>
        <script charset="utf-8" src="https://cdn.plot.ly/plotly-3.1.0.min.js" integrity="sha256-Ei4740bWZhaUTQuD6q9yQlgVCMPBz6CZWhevDYPv93A=" crossorigin="anonymous"></script>                <div id="aeb58091-ec2c-48d5-8748-63d7195b5f5b" class="plotly-graph-div" style="width:100%; height:85vh; min-height:650px;"></div>            <script type="text/javascript">                window.PLOTLYENV=window.PLOTLYENV || {};                                if (document.getElementById("aeb58091-ec2c-48d5-8748-63d7195b5f5b")) {                    Plotly.newPlot("aeb58091-ec2c-48d5-8748-63d7195b5f5b", [{"customdata":[[["+3.1","10,985"]],[["-0.8","8,747"]],[["-1.0","4,692"]],[["+9.9","4,492"]],[["+12.3","5,680"]],[["+15.4","4,695"]],[["-3.1","6,186"]],[["-5.3","9,974"]],[["+3.8","2,737"]],[["+5.6","9,646"]],[["+5.7","6,826"]],[["-2.6","6,652"]],[["-3.6","4,075"]],[["+1.9","4,376"]],[["+10.9","7,705"]],[["-2.5","7,746"]],[["-1.2","14,714"]],[["+5.8","11,100"]],[["+9.0","9,441"]],[["+16.6","5,112"]],[["+11.1","11,541"]],[["-0.7","2,901"]],[["+10.7","5,749"]],[["+11.0","5,542"]],[["+18.9","6,966"]],[["+3.9","6,451"]],[["-1.5","11,290"]],[["-1.6","3,975"]],[["+12.3","5,554"]],[["+1.3","8,639"]],[["+7.5","9,594"]],[["-6.3","6,083"]],[["-2.3","12,445"]],[["+19.2","8,758"]],[["-0.7","9,695"]],[["-0.4","16,772"]]],"hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eNeighborhood: %{hovertext}\u003cbr\u003eDistance from Downtown (km): %{x:.1f}\u003cbr\u003eChange in Transit Commute Time (minutes): %{customdata[0]}\u003cbr\u003ePopulation: %{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Rothwell Heights - Beacon Hill North","South Keys - Greenboro West","Riverside Park","Tanglewood","Qualicum - Redwood Park","Trend-Arlington","Playfair Park - Lynda Park - Guildwood Estates","Ledbury - Heron Gate - Ridgemont","Wateridge Village","Laurentian","Whitehaven - Queensway Terrace North","Pineview","Hunt Club Park","Hunt Club Woods - Quintarra - Revelstoke","Bayshore - Belltown","Beacon Hill South - Cardinal Heights","Billings Bridge - Alta Vista","Borden Farm - Stewart Farm - Parkwood Hills - Fisher Glen","Braemar Park - Bel Air Heights - Copeland Park","Briar Green - Leslie Park","Britannia","Carleton Heights - Rideauview","Carlingwood West - Glabar Park - McKellar Heights","Iris","Centrepointe","Cityview - Skyline - Fisher Heights","Carson Grove - Carson Meadows","Hawthorne Meadows - Sheffield Glen","Woodroffe - Lincoln Heights","Hunt Club East - Western Community","Crestview - Meadowlands","Greenboro East","Elmvale - Eastway - Riverview - Riverview Park West","Woodvale - Craig Henry - Manordale - Estates of Arlington Woods","Cummings","East Industrial"],"legendgroup":"Outer Urban","marker":{"color":"#abd9e9","opacity":0.75,"size":{"dtype":"f8","bdata":"AAAAAIB0xUAAAAAAgBXBQAAAAAAAVLJAAAAAAACMsUAAAAAAADC2QAAAAAAAV7JAAAAAAAAquEAAAAAAAHvDQAAAAAAAYqVAAAAAAADXwkAAAAAAAKq6QAAAAAAA\u002fLlAAAAAAADWr0AAAAAAABixQAAAAAAAGb5AAAAAAABCvkAAAAAAAL3MQAAAAAAArsVAAAAAAIBwwkAAAAAAAPizQAAAAACAisZAAAAAAACqpkAAAAAAAHW2QAAAAAAAprVAAAAAAAA2u0AAAAAAADO5QAAAAAAADcZAAAAAAAAOr0AAAAAAALK1QAAAAACA38BAAAAAAAC9wkAAAAAAAMO3QAAAAACATshAAAAAAAAbwUAAAAAAgO\u002fCQAAAAAAAYdBA"},"sizemode":"area","sizeref":35.338125,"symbol":"circle"},"mode":"markers","name":"Outer Urban","orientation":"v","showlegend":true,"x":{"dtype":"f8","bdata":"C1nIQhYyIUBs\u002fhnTZIAeQMeSXyz5RRZALtiCLdgCJEBmZmZmZkYoQH3FV3zFVylAn\u002fRJn\u002fRJFkCWzT9jmgwaQA6vvadIVxhADQIrhxbZGkCvundIVBEkQHE9CtejUBxAexSuR+FKIUCbD2Bn3KwgQC\u002fdJAaBFSdATjwrGgn4H0DJL5b8YmkSQIwlv1jyix9ASOF6FK4nIEDKuc8uIDYnQImIiIiICCNAj8L1KFyPGUC\u002fyqFFtnMeQHW5\u002fUGGyiNA4XoUrkdhJEAfhetRuN4bQN6uundIVBhA9Shcj8L1G0A9CtejcH0eQBWuR+F6VCBAPgrXo3C9IUBVGnLus4sgQHovn\u002ffyeRRATgaYs2z+JkCW\u002fGLJL5YVQDaImyffkRpA"},"xaxis":"x","y":{"dtype":"f8","bdata":"cODp1vywCECAgi3Ygi3ov+BLaC+hvfC\u002fvLu7u7u7I0C8cRzHcZwoQDyO4ziO4y5AgAntJbSXCMD4KwVq\u002fUoVwMBoLqO5jA5APOmTPumTFkBgVVVVVdUWQOBLaC+hvQTAII7jOI7jDMCg4W9TjBr+P1BVVVVV1SVAMPB0a35YBMAg3ZofFinzv\u002fgS2ktoLxdAaMEWbMEWIkB8Ce0ltJcwQJDjOI7jOCZAQFVVVVVV5b8Qi5SBp1slQFSwBVuwBSZAWvPDImXgMkBwVVVVVVUPQKCqqqqqqve\u002foJfQXkJ7+b+oqqqqqqooQGAJ7SW0l\u002fQ\u002fQJ3FdBbTHUCQ4ziO4zgZwDA\u002fLFIGngLAzl5CewktM0AAOY7jOI7nv4BxHMdxHNe\u002f"},"yaxis":"y","type":"scatter"},
{"customdata":[[["+0.6","31,188"]],[["+2.1","14,194"]],[["+5.2","12,601"]],[["+5.9","6,235"]],[["+0.3","6,273"]],[["+0.9","3,218"]],[["+0.6","11,397"]],[["-0.3","4,641"]],[["+0.3","847"]],[["+3.6","10,217"]],[["+2.5","8,441"]],[["+2.4","12,871"]],[["+3.2","8,739"]],[["+2.1","5,088"]],[["+3.9","5,317"]],[["-1.0","13,400"]],[["+2.8","5,720"]],[["+2.0","6,015"]],[["+4.0","11,922"]],[["+8.8","5,634"]],[["+2.8","13,903"]]],"hovertemplate":"\u003cb\u003e%{hovertext}\u003c\u002fb\u003e\u003cbr\u003e\u003cbr\u003eNeighborhood: %{hovertext}\u003cbr\u003eDistance from Downtown (km): %{x:.1f}\u003cbr\u003eChange in Transit Commute Time (minutes): %{customdata[0]}\u003cbr\u003ePopulation: %{customdata[1]}\u003cextra\u003e\u003c\u002fextra\u003e","hovertext":["Centretown","Westboro","West Centertown","Wellington Village","Ottawa East","Vanier South","Vanier North","Beechwood Cemetery","Lebreton Development","Hintonburg - Mechanicsville","Lowertown","Sandy Hill","Ottawa South","Byward Market","Rockcliffe Park","Overbrook - McArthur","Carleton University","Carlington","Glebe - Dows Lake","Lindenlea - New Edinburgh","Civic Hospital-Central Park"],"legendgroup":"Inner Urban","marker":{"color":"#2c7bb6","opacity":0.75,"size":{"dtype":"f8","bdata":"AAAAAAB13kAAAAAAALnLQAAAAACAnMhAAAAAAABbuEAAAAAAAIG4QAAAAAAAJKlAAAAAAIBCxkAAAAAAACGyQAAAAAAAeIpAAAAAAID0w0AAAAAAgHzAQAAAAACAI8lAAAAAAIARwUAAAAAAAOCzQAAAAAAAxbRAAAAAAAAsykAAAAAAAFi2QAAAAAAAf7dAAAAAAABJx0AAAAAAAAK2QAAAAACAJ8tA"},"sizemode":"area","sizeref":35.338125,"symbol":"circle"},"mode":"markers","name":"Inner Urban","orientation":"v","showlegend":true,"x":{"dtype":"f8","bdata":"J6vljRFM7D+amZmZmZkUQKRwPQrXIwFAZMkvlvxiD0BSuB6F69EAQIXrUbgeBRBAOffZBcSmCkBPG+i0gU4RQEjhehSuR\u002f0\u002fmpmZmZnZBkA9CtejcD38P9ejcD0K1\u002fs\u002fXI\u002fC9ShcCkC\u002fWPKLJb\u002fyPyoNOffZBRBAFK5H4XpUDECPwvUoXA8OQBsv3SQGgRZA\u002fKnx0k1iAkAfhetRuB4EQNXHXH3M1RNA"},"xaxis":"x","y":{"dtype":"f8","bdata":"EEEQBEEQ5D8wTdM0TdMAQKyqqqqqqhRA5DiO4ziOF0CAOI7jOI7TP4DjOI7jOO4\u002foCRJkiRJ4j\u002fAPumTPunTv2Avob2E9tI\u002f4EtoL6G9DECgvYT2EtoDQIzjOI7jOANAAAAAAAAACkD8EtpLaC8BQMAwDMMwDA9A4Io14Io18L8Qx3Ecx3EGQOA4juM4jv8\u002fJCIiIiIiEEAs2IIt2IIhQKCWlpaWlgZA"},"yaxis":"y","type":"scatter"},
{"hoverinfo":"skip","legendgroup":"Outer Urban","mode":"text","showlegend":false,"text":["East Industrial","Billings Bridge -\u003cbr\u003eAlta Vista","Elmvale - Eastway -\u003cbr\u003eRiverview -\u003cbr\u003eRiverview Park West","Britannia","Carson Grove -\u003cbr\u003eCarson Meadows"],"textfont":{"color":"#333","family":"Arial, sans-serif","size":9},"textposition":"top center","x":{"dtype":"f8","bdata":"NoibJ9+RGkDJL5b8YmkSQHovn\u002ffyeRRAiYiIiIgII0Derrp3SFQYQA=="},"y":{"dtype":"f8","bdata":"gHEcx3Ec178g3ZofFinzvzA\u002fLFIGngLAkOM4juM4JkCgqqqqqqr3vw=="},"type":"scatter"},
{"hoverinfo":"skip","legendgroup":"Inner Urban","mode":"text","showlegend":false,"text":["Centretown","Westboro","Civic\u003cbr\u003eHospital-Central\u003cbr\u003ePark","Overbrook - McArthur","Sandy Hill"],"textfont":{"color":"#333","family":"Arial, sans-serif","size":9},"textposition":"top center","x":{"dtype":"f8","bdata":"J6vljRFM7D+amZmZmZkUQNXHXH3M1RNAFK5H4XpUDEDXo3A9Ctf7Pw=="},"y":{"dtype":"f8","bdata":"EEEQBEEQ5D8wTdM0TdMAQKCWlpaWlgZA4Io14Io18L+M4ziO4zgDQA=="},"type":"scatter"}], {"autosize":true,"margin":{"t":120,"b":80,"l":80,"r":100},"template":{"data":{"barpolar":[{"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"barpolar"}],"bar":[{"error_x":{"color":"#2a3f5f"},"error_y":{"color":"#2a3f5f"},"marker":{"line":{"color":"white","width":0.5},"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"bar"}],"carpet":[{"aaxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"baxis":{"endlinecolor":"#2a3f5f","gridcolor":"#C8D4E3","linecolor":"#C8D4E3","minorgridcolor":"#C8D4E3","startlinecolor":"#2a3f5f"},"type":"carpet"}],"choropleth":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"choropleth"}],"contourcarpet":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"contourcarpet"}],"contour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"contour"}],"heatmap":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"heatmap"}],"histogram2dcontour":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2dcontour"}],"histogram2d":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"histogram2d"}],"histogram":[{"marker":{"pattern":{"fillmode":"overlay","size":10,"solidity":0.2}},"type":"histogram"}],"mesh3d":[{"colorbar":{"outlinewidth":0,"ticks":""},"type":"mesh3d"}],"parcoords":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"parcoords"}],"pie":[{"automargin":true,"type":"pie"}],"scatter3d":[{"line":{"colorbar":{"outlinewidth":0,"ticks":""}},"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatter3d"}],"scattercarpet":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattercarpet"}],"scattergeo":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergeo"}],"scattergl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattergl"}],"scattermapbox":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermapbox"}],"scattermap":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scattermap"}],"scatterpolargl":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolargl"}],"scatterpolar":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterpolar"}],"scatter":[{"fillpattern":{"fillmode":"overlay","size":10,"solidity":0.2},"type":"scatter"}],"scatterternary":[{"marker":{"colorbar":{"outlinewidth":0,"ticks":""}},"type":"scatterternary"}],"surface":[{"colorbar":{"outlinewidth":0,"ticks":""},"colorscale":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"type":"surface"}],"table":[{"cells":{"fill":{"color":"#EBF0F8"},"line":{"color":"white"}},"header":{"fill":{"color":"#C8D4E3"},"line":{"color":"white"}},"type":"table"}]},"layout":{"annotationdefaults":{"arrowcolor":"#2a3f5f","arrowhead":0,"arrowwidth":1},"autotypenumbers":"strict","coloraxis":{"colorbar":{"outlinewidth":0,"ticks":""}},"colorscale":{"diverging":[[0,"#8e0152"],[0.1,"#c51b7d"],[0.2,"#de77ae"],[0.3,"#f1b6da"],[0.4,"#fde0ef"],[0.5,"#f7f7f7"],[0.6,"#e6f5d0"],[0.7,"#b8e186"],[0.8,"#7fbc41"],[0.9,"#4d9221"],[1,"#276419"]],"sequential":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]],"sequentialminus":[[0.0,"#0d0887"],[0.1111111111111111,"#46039f"],[0.2222222222222222,"#7201a8"],[0.3333333333333333,"#9c179e"],[0.4444444444444444,"#bd3786"],[0.5555555555555556,"#d8576b"],[0.6666666666666666,"#ed7953"],[0.7777777777777778,"#fb9f3a"],[0.8888888888888888,"#fdca26"],[1.0,"#f0f921"]]},"colorway":["#636efa","#EF553B","#00cc96","#ab63fa","#FFA15A","#19d3f3","#FF6692","#B6E880","#FF97FF","#FECB52"],"font":{"color":"#2a3f5f"},"geo":{"bgcolor":"white","lakecolor":"white","landcolor":"white","showlakes":true,"showland":true,"subunitcolor":"#C8D4E3"},"hoverlabel":{"align":"left"},"hovermode":"closest","mapbox":{"style":"light"},"paper_bgcolor":"white","plot_bgcolor":"white","polar":{"angularaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""},"bgcolor":"white","radialaxis":{"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":""}},"scene":{"xaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"yaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"},"zaxis":{"backgroundcolor":"white","gridcolor":"#DFE8F3","gridwidth":2,"linecolor":"#EBF0F8","showbackground":true,"ticks":"","zerolinecolor":"#EBF0F8"}},"shapedefaults":{"line":{"color":"#2a3f5f"}},"ternary":{"aaxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"baxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""},"bgcolor":"white","caxis":{"gridcolor":"#DFE8F3","linecolor":"#A2B1C6","ticks":""}},"title":{"x":0.05},"xaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2},"yaxis":{"automargin":true,"gridcolor":"#EBF0F8","linecolor":"#EBF0F8","ticks":"","title":{"standoff":15},"zerolinecolor":"#EBF0F8","zerolinewidth":2}}},"xaxis":{"anchor":"y","domain":[0.0,1.0],"title":{"text":"Distance from Downtown (km)"},"showgrid":true,"gridcolor":"#E0E0E0","gridwidth":0.5,"zeroline":false,"range":[-0.05868571428571456,13.614400000000002],"autorange":false},"yaxis":{"anchor":"x","domain":[0.0,1.0],"title":{"text":"Change in Transit Commute Time (minutes)"},"showgrid":true,"gridcolor":"#E0E0E0","gridwidth":0.5,"zeroline":true,"zerolinecolor":"#666","zerolinewidth":1.5,"range":[-8.344074074074076,21.214444444444435],"autorange":false},"legend":{"itemclick":false,"itemdoubleclick":false,"title":{"text":"Urban Category<br><sub>Bubble size = 2021 Population</sub>"},"tracegroupgap":0,"itemsizing":"constant","x":0.02,"y":0.98,"bgcolor":"rgba(255, 255, 255, 0.9)","bordercolor":"#CCCCCC","borderwidth":1},"title":{"font":{"size":16},"text":"Impact of $2.1B LRT Phase 2 Expansion on Transit Commutes To Downtown<br><sub>Change from Bus Rapid Transit (2019) to LRT Phase 2 (2025) by Distance from Downtown</sub>","x":0.5,"xanchor":"center"},"width":1200,"height":720,"hovermode":"closest","shapes":[{"line":{"color":"#666","dash":"dot","width":1.5},"type":"line","x0":0,"x1":1,"xref":"paper","y0":0,"y1":0,"yref":"y"}],"showlegend":true}, {"responsive": true})                };            </script>        </div>

<script>
(function() {
  var divId = "aeb58091-ec2c-48d5-8748-63d7195b5f5b";

  function formatSigned(num, decimals) {
    if (num === null || num === undefined || isNaN(num)) return "";
    var n = Number(num);
    var s = (n >= 0 ? "+" : "");
    return s + n.toFixed(decimals);
  }

  function decodeBdataFloat64(bdata) {
    // Plotly offline bundles typed arrays as base64 in objects like {dtype:'f8', bdata:'...'}
    try {
      var binary = atob(bdata);
      var len = binary.length;
      var bytes = new Uint8Array(len);
      for (var i = 0; i < len; i++) bytes[i] = binary.charCodeAt(i);
      return new Float64Array(bytes.buffer);
    } catch (e) {
      return null;
    }
  }

  function getPopArray(trace) {
    if (!trace || !trace.marker) return null;
    var s = trace.marker.size;

    // already decoded
    if (Array.isArray(s) || (typeof Float64Array !== "undefined" && s instanceof Float64Array)) return s;

    // plotly bdata object
    if (s && typeof s === "object" && s.bdata) {
      return decodeBdataFloat64(s.bdata);
    }

    return null;
  }

  function removeStaticLabels(el) {
    if (!el || !el.data || !el.data.length) return;
    var idx = [];
    for (var i = 0; i < el.data.length; i++) {
      var tr = el.data[i] || {};
      var mode = tr.mode || "";
      if (mode === "text" || (mode.indexOf("text") !== -1 && mode.indexOf("markers") === -1)) {
        idx.push(i);
      }
    }
    if (idx.length) {
      idx.sort(function(a,b){return b-a;});
      Plotly.deleteTraces(el, idx);
    }
  }

  function applyHoverFix(el) {
    if (!el || !el.calcdata || !el.calcdata.length) return false;

    var decimals = 1;

    for (var ti = 0; ti < el.data.length; ti++) {
      var trace = el.data[ti] || {};
      var mode = trace.mode || "";
      if (mode.indexOf("markers") === -1) continue;

      var cd = el.calcdata[ti];
      if (!cd) continue;

      var pops = getPopArray(trace);
      var custom = new Array(cd.length);

      for (var pi = 0; pi < cd.length; pi++) {
        var pt = cd[pi] || {};
        var yv = pt.y;
        if (yv === undefined && pt.pt && pt.pt.y !== undefined) yv = pt.pt.y;

        var popv = (pops && pops[pi] !== undefined) ? pops[pi] : null;
        var popStr = (popv === null || popv === undefined || isNaN(popv)) ? "" : Number(popv).toLocaleString("en-US");

        custom[pi] = [formatSigned(yv, decimals), popStr];
      }

      Plotly.restyle(el, {
        customdata: [custom],
        hovertemplate: ["<b>%{hovertext}</b><br><br>Neighborhood: %{hovertext}<br>Distance from Downtown (km): %{x:.1f}<br>Change in Transit Commute Time (minutes): %{customdata[0]}<br>Population: %{customdata[1]}<extra></extra>"]
      }, [ti]);
    }

    return true;
  }

  function init() {
    var el = document.getElementById(divId);
    if (!el || !window.Plotly) return;

    removeStaticLabels(el);

    (function retry(triesLeft) {
      if (applyHoverFix(el)) return;
      if (triesLeft <= 0) return;
      setTimeout(function() { retry(triesLeft - 1); }, 50);
    })(30);
  }

  if (document.readyState === "complete") setTimeout(init, 0);
  else window.addEventListener("load", init);
})();
</script>

</body>
</html>